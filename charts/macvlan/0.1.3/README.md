# 扁平网络

Rancher Prime 提供一种基于多网卡扩展机制提供的高性能网络方案，其使用 Multus+Macvlan 的技术方案，来满足业务对容器高性能网络的使用场景。

前提条件：使用扁平网络需要主机环境支持支持 Macvlan 特性，并且可以访问二层网络资源。

登录主机，在命令行界面运行以下命令，测试内核是否加载了 Macvlan 模块。

```shell
$ modprobe macvlan
$ lsmod | grep macvlan
  macvlan    19046    0
```

如果第一个命令报错，或者第二个命令没有返回消息，则说明当前系统不支持 Macvlan，需要升级系统内核才可以支持。

面向生产环境建议您使用物理机环境进行部署，测试验证则可以选择支持嵌套虚拟化的 Google Cloud 云主机进行部署。

公有云网络则无法兼容 Macvlan 网络模型，云厂商的底层网络普遍屏蔽二层转发。
